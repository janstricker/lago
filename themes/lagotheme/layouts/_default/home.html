{{ define "main" }}


<section id="stage">
  <div class="block stage">
    <div class="blockContent stage">
        <h1 class="home">{{ .Params.smallTitle }}</h1>
        <h2 class="serif">{{ .Params.largeTitle }}</h2>
        <div class="openingInfo">
          {{ if .Params.isOpen }}
          <p class ="indicator open">{{.Params.openCallout}}</p> <p>{{.Params.openText}}</p>
          {{ else }}
          <p class ="indicator closed">{{.Params.closedCallout}}</p>
          {{ if .Params.openingDate }}
          {{ $now := now.UTC | time.Format "2006-01-02" | time }}
          {{ $openingDate := time .Params.openingDate | time }}
          {{ $daysUntil := div ($openingDate.Sub $now).Hours 24 | int }}
          <p>Noch <strong>{{ $daysUntil }}</strong> Tage bis zur Eröffnung am {{ .Params.openingDate | time.Format ":date_medium" }}</p>
          {{else}}
          {{.Params.closedText}} 
          </p>
          {{ end }}
          {{ end }}
        </div>
    </div>
      {{ if .Params.isOpen }}
        {{ with .Resources.GetMatch "homepage/open.*" }}
        <img class="blockImage" src="{{ .RelPermalink }}" alt="Waldbad Langer Teich – {{.Params.openText}}" />
        {{ end }}
      {{ else }}
        {{ with .Resources.GetMatch "homepage/closed.*" }}
        <img class="blockImage" src="{{ .RelPermalink }}" alt="Waldbad Langer Teich – {{.Params.closedText}}" />
        {{ end }}
      {{ end }}
    </div>
</section>

  {{ partial "posts.html" (dict "id" "aktuelles" "section" "aktuelles/posts" "context" . "postLimit" 2) }}
  {{ partial "faq.html" . }}
  
{{ end }}